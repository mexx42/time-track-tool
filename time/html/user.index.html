<tal:block metal:use-macro="templates/page/macros/icing">
<title metal:fill-slot="head_title" tal:content="Classname" />

<tal:block metal:fill-slot="create_or_query">
 <tal:block 
  metal:use-macro="templates/page/macros/create_or_query_new_tracker_item" />
</tal:block>

<tal:block metal:fill-slot="content">
 <tal:block tal:define=
  "batch request/batch;
   pdict python: utils.properties_dict (db, context);
   props python:
    ( utils.ExtProperty (utils, pdict ['id'])
    , utils.ExtProperty (utils, pdict ['lastname'])
    , utils.ExtProperty (utils, pdict ['firstname'])
    , utils.ExtProperty (utils, pdict ['realname'])
    , utils.ExtProperty (utils, pdict ['nickname'])
    , utils.ExtProperty (utils, pdict ['username'])
    , utils.ExtProperty (utils, pdict ['phone'])
    , utils.ExtProperty (utils, pdict ['external_phone'])
    , utils.ExtProperty (utils, pdict ['private_phone'])
    , utils.ExtProperty (utils, pdict ['address'])
    , utils.ExtProperty (utils, pdict ['status'],       multiselect = 1)
    , utils.ExtProperty (utils, pdict ['room'],         multiselect = 1)
    , utils.ExtProperty (utils, pdict ['position'],     multiselect = 1)
    , utils.ExtProperty (utils, pdict ['supervisor'],   multiselect = 1)
    , utils.ExtProperty (utils, pdict ['substitute'],   multiselect = 1)
    , utils.ExtProperty (utils, pdict ['subst_active'])
    , utils.ExtProperty (utils, pdict ['clearance_by'], multiselect = 1)
    , utils.ExtProperty (utils, pdict ['sex'],          multiselect = 1)
    , utils.ExtProperty (utils, pdict ['title'])
    , utils.ExtProperty (utils, pdict ['roles'])
    , utils.ExtProperty (utils, pdict ['timezone'])
    , utils.ExtProperty (utils, pdict ['lunch_start'])
    , utils.ExtProperty (utils, pdict ['lunch_duration'])
    );
   "
  tal:condition="context/is_view_ok">

  <tal:block metal:use-macro="templates/page/macros/ttt_search_results"></tal:block>
  <tal:block metal:use-macro="templates/page/macros/ttt_search_form"/>
 </tal:block>
</tal:block>
</tal:block>
