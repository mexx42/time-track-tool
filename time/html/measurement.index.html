<tal:block metal:use-macro="templates/page/macros/icing">
 <tal:block metal:fill-slot="menu_slot">
   <tr tal:condition="python:
       not terse and request.user.hasPermission ('View','measurement')">
    <td colspan="2"/>
    <td class="sidebar" nowrap>
     <span class="classblock">
      <a i18n:translate="" tal:attributes="href python:request.indexargs_url
         (classname, {':action' : 'export_csv_lielas'})">
       Lielas CSV
      </a>
     </span>
    </td>
   </tr>
 </tal:block>
 <tal:block metal:fill-slot="create_or_query">
  <tal:block 
   metal:use-macro="templates/page/macros/create_or_query_new_tracker_item" />
 </tal:block>

 <tal:block metal:fill-slot="content">
  <tal:block tal:define=
   "batch request/batch;
    n_sort python:4;
    pdict python: utils.properties_dict (db, context);
    ep python: utils.ExtProperty;
    props python:
     ( ep (utils, pdict ['id'])
     , ep ( utils, pdict ['sensor']
          , searchname   = 'sensor.device.device_group'
          , searchable   = True
          , displayable  = True
          , multiselect  = True
          )
     , ep ( utils, pdict ['sensor']
          , searchname   = 'sensor.device.transceiver'
          , searchable   = True
          , displayable  = True
          , multiselect  = True
          )
     , ep ( utils, pdict ['sensor']
          , searchname   = 'sensor.device.adr'
          , searchable   = False
          , displayable  = True
          )
     , ep ( utils, pdict ['sensor']
          , searchname   = 'sensor.device'
          , searchable   = True
          , displayable  = False
          , multiselect  = True
          )
     , ep ( utils, pdict ['sensor']
          , searchname   = 'sensor.device.dev'
          , searchable   = False
          , displayable  = True
          )
     , ep ( utils, pdict ['sensor']
          , searchname   = 'sensor.device.cls'
          , searchable   = False
          , displayable  = True
          )
     , ep ( utils, pdict ['sensor']
          , searchname   = 'sensor.device.name'
          , searchable   = False
          , displayable  = True
          )
     , ep ( utils, pdict ['sensor']
          , searchname   = 'sensor.adr'
          , searchable   = False
          , displayable  = True
          )
     , ep ( utils, pdict ['sensor']
          , searchable   = True
          , displayable  = False
          , multiselect  = True
          )
     , ep ( utils, pdict ['sensor']
          , searchname   = 'sensor.type'
          , searchable   = False
          , displayable  = True
          )
     , ep ( utils, pdict ['sensor']
          , searchname   = 'sensor.name'
          , searchable   = False
          , displayable  = True
          )
     , ep (utils, pdict ['val'])
     , ep ( utils, pdict ['sensor']
          , searchname   = 'sensor.unit'
          , searchable   = False
          , displayable  = True
          )
     , ep ( utils, pdict ['sensor']
          , searchname   = 'sensor.order'
          , searchable   = False
          , displayable  = True
          )
     , ep (utils, pdict ['date'], format = '%Y-%m-%d.%H:%M:%S')
     , ep ( utils, pdict ['sensor']
          , searchname   = 'sensor.do_logging'
          , searchable   = True
          , displayable  = True
          )
     , ep ( utils, pdict ['sensor']
          , searchname   = 'sensor.is_actuator'
          , searchable   = True
          , displayable  = True
          )
     , ep ( utils, pdict ['sensor']
          , searchname   = 'sensor.is_app_sensor'
          , searchable   = True
          , displayable  = True
          )
     );
    "
   tal:condition="context/is_view_ok">

   <tal:block metal:use-macro="templates/page/macros/search_results"/>
   <tal:block metal:use-macro="templates/page/macros/simple_search_form"/>
  </tal:block>
 </tal:block>
</tal:block>
